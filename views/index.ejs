<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/css/materialize.min.css">

    <title>GMens-test</title>

    <script src="http://www.webglearth.com/v2/api.js"></script>
    <script>
        function initialize() {

            var earth = new WE.map('earth_div');

            earth.setView([44, 10], 2);
            //korea
            //earth.setView([35, 127], 3);
            WE.tileLayer('http://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png', {
                attribution: 'Â© OpenStreetMap contributors'
            }).addTo(earth);

            var swiss = WE.tileLayerJSON('http://tileserver.maptiler.com/swissimage25m.json');
            swiss.addTo(earth);
            earth.setTilt(0);
            earth.setHeading(0)

            // // animate start
            var before = null;
            requestAnimationFrame(function animate(now) {
                var c = earth.getPosition();
                var elapsed = before ? now - before : 0;
                before = now;
                earth.setCenter([c[0], c[1] - 0.1 * (elapsed / 30)]);
                requestAnimationFrame(animate);
            });
            // // animation end

        }
    </script>

    <style>
        html,
        body {
            background-color: black;
            padding: 0;
            margin: 0;
        }

        #earth_div {
            top: 200px;
            right: 0;
            bottom: 0;
            left: 0;
            background-color: transparent;
            position: absolute !important;
        }

        h2 {
            color:aliceblue;
        }
    </style>


</head>

<body onload="initialize()">

    <!--<div id="earth_div"></div>-->
    <div class="container" id="earth_div"></div>

    <div class="container">
        <h2>Image Upload</h2>
        <%= typeof msg != 'undefined' ? msg : '' %>
        <form action="/upload" method="POST" enctype="multipart/form-data">
            <div class="file-field input-field">
                <div class="btn grey">
                    <span>File</span>
                    <input name="myImage" type="file">
                </div>
                <div class="file-path-wrapper">
                    <input class="file-path validate" type="text">
                </div>
            </div>
            <button type="submit" class="btn">Submit</button>
        </form>
        <br>
        <img src="<%= typeof imgUrl != 'undefined' ? imgUrl : '' %>" class="responsive-img">
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/materialize/1.0.0/js/materialize.min.js"></script>
    <script src="https://code.jquery.com/jquery-3.4.1.min.js"
        integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script>
</body>

</html>